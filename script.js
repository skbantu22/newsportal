    // --- Initialize Icons ---
    lucide.createIcons();

    // --- Default Data ---
    const initialData = [
     
{
  id: 1,
  title: "বাংলাদেশের মুক্তিযুদ্ধে মোড় ঘোরানো আটটি ঘটনা",
  category: "ইতিহাস",
  image: "https://ichef.bbci.co.uk/ace/ws/800/cpsprodpb/baf6/live/e29ba410-9bb9-11ee-91bf-230bfab3fcba.jpg.webp",
  content: "কম ডেটা ব্যবহার করতে শুধু টেক্সট পড়ুন\nমুক্তিবাহিনী — ছবির উৎস: Getty Images\nছবির ক্যাপশন: বাংলাদেশের স্বাধীনতা যুদ্ধে মুক্তিবাহিনীর ভূমিকা ছিল অনন্য।\n১৬ ডিসেম্বর ২০২৩\n\nবাংলাদেশের স্বাধীনতা যুদ্ধে রণাঙ্গনে লড়াইয়ের পাশপাশি রাজনৈতিক এবং কূটনীতিক অঙ্গনের নানা তৎপরতাও গুরুত্বপূর্ণ ভূমিকা রেখেছিল।\n\nনয় মাস ধরে চলা যুদ্ধের সময় রাজনৈতিক এবং কূটনৈতিক বিষয়গুলো মাঠের লড়াইকে প্রভাবিত করেছিল বলে ইতিহাসবিদরা মনে করেন।\n\nযুদ্ধ চলাকালীন এমন কিছু ঘটনা ঘটেছে যা বাংলাদেশের বিজয়কে তরান্বিত করেছিল। এছাড়া রণাঙ্গনে অজস্র লড়াই হয়েছে পাকিস্তানী বাহিনীর সাথে।\n\nমুক্তিযুদ্ধের অসংখ্য ঘটনার মধ্য থেকে আটটি ঘটনা বাছাই করা হয়েছে এ লেখায়। রাজনীতি, কূটনীতি ও রণাঙ্গনের এসব ঘটনা যেমন আলোচিত ছিল তেমনি প্রভাবও তৈরি করেছিল।\n\nরাজনৈতিক পরিস্থিতির ডামাডোলে যে উত্তেজনা সত্তরের নির্বাচনকে ঘিরে তৈরি হয়েছিল, ২৫শে মার্চ পাকিস্তানি বাহিনীর বর্বরোচিত গণহত্যা ও ২৬শে মার্চ স্বাধীনতা ঘোষণার মধ্য দিয়ে তা বাংলার মানুষের স্বাধীনতা আন্দোলনে রূপ নেয়।",
  date: "2023-12-16"
},



      {
  id: 2,
  title: "সাকিব আল হাসান ও আসিফ মাহমুদের বাদানুবাদ কতদূর গড়াতে পারে",
  category: "খেলা",
  image: "assets/play.png",
  content: "বাংলাদেশ ভারতকে ৩ উইকেটে হারিয়েছে... \n\nসাকিব আল হাসান ও আসিফ মাহমুদের মধ্যে চলছে একটা কথার লড়াই, সামাজিক যোগাযোগ মাধ্যম থেকে শুরু এই বাদানুবাদ, এরপর মূলধারার গণমাধ্যমে দুজন কথা বলে নিজেদের অবস্থান স্পষ্ট করেছেন।\n\nএক বেসরকারি টেলিভিশন চ্যানেলকে দেয়া সাক্ষাৎকারে আসিফ মাহমুদ জানিয়েছেন, সাকিব আল হাসান যাতে বাংলাদেশের জার্সি গায়ে আর খেলতে না পারেন সেই নির্দেশনা দেয়া হবে।\n\nআওয়ামী লীগ মনোনীত সংসদ সদস্য সাকিব আল হাসানের বিরুদ্ধে অনেকেই জুলাই অগাস্ট গণঅভ্যুত্থানের সময়ে নীরব থাকার অভিযোগে ক্ষোভ প্রকাশ করেছেন, আবার অনেকে বলছেন সাকিব যদি অপরাধ করে থাকে তবে তার বিচার হওয়া উচিৎ কিন্তু জাতীয় দল থেকে দূরে রাখা উচিৎ নয়।\n\nআবার সাকিব আল হাসান চাইলে আদালত পর্যন্ত যেতে পারেন বলছেন বিশ্লেষকরা।\n\nতবে চলমান রাজনৈতিক বাস্তবতায় আওয়ামী লীগ সরকারের আমলের অনেক মন্ত্রী ও সংসদ সদস্য যেখানে দেশের বাইরেই আশ্রয় নিয়েছে, সেখানে সাকিব আল হাসানের ক্ষেত্রে শুধু মাত্র খেলোয়াড় স্ট্যাটাসের কারণে এই বিবেচনা শিথিল হবে বলে মনে করছেন না সংশ্লিষ্টরা।",
  date: "2025-12-06"
},
      {
  id: 3,
  title: "খালেদা জিয়ার অবস্থা অপরিবর্তিত, তবে 'ওষুধে রেসপন্স করছেন'",
  category: "রাজনীতি",
  image: "assets/k.jpg",
  content: "মায়ের অসুস্থতার মধ্যেও দেশে ফেরার বিষয়ে নানা রাজনৈতিক জটিলতা রয়েছে... \n\nঢাকার একটি হাসপাতালে চিকিৎসাধীন বিএনপি চেয়ারপার্সন খালেদা জিয়ার শারীরিক অবস্থার খুব একটা পরিবর্তন হয়নি গত ২৪ ঘণ্টায়। এই অবস্থাকে স্থিতিশীল মনে করছেন চিকিৎসকরা।\n\nএমন পরিস্থিতির মধ্যে বুধবার খালেদা জিয়ার চিকিৎসা সহায়তায় যুক্তরাজ্যের বিশেষজ্ঞ চিকিৎসক রিচার্ড বিল ঢাকায় পৌঁছে এরই মধ্যে চিকিৎসক দলের সাথে যুক্ত হয়েছেন বলেও জানিয়েছে বিএনপি চেয়ারপার্সনের প্রেস উইং।\n\nএর আগে মঙ্গলবারই সংবাদ সম্মেলনে খালেদা জিয়ার ব্যক্তিগত চিকিৎসক এ জেড এম জাহিদ হোসেন ব্রিটিশ এই বিশেষজ্ঞ চিকিৎসকের ঢাকায় আসার কথা জানিয়েছিলেন।\n\nগত দুই দিন ধরে সামাজিক যোগাযোগ মাধ্যমে খালেদা জিয়ার স্বাস্থ্য অবস্থা নিয়ে নানা ধরনের তথ্য শেয়ার করতে দেখা গিয়েছে।\n\nএমন পরিস্থিতিতে তার শারীরিক অবস্থার সর্বশেষ পরিস্থিতি জানিয়ে মঙ্গলবার ডা. জাহিদ হোসেন ব্রিফিং করে জানিয়েছিলেন, খালেদা জিয়াকে যে চিকিৎসা সেবা দেওয়া হচ্ছে সেটি গ্রহণ করতে পারছেন তিনি।",
  date: "2025-12-05"
},

{
  id: 5,
  title: "যে পাঁচটি পেশার চাহিদা বাড়ছে, সফল হতে যে সব দক্ষতার প্রয়োজন",
  category: "চাকরি",
  image: "https://ichef.bbci.co.uk/ace/ws/800/cpsprodpb/9d9b/live/51c79050-6d02-11ef-b43e-6916dcba5cbf.jpg.webp",
  content: "বিশ্বে চাকরির বাজার আগের চেয়ে অনেক দ্রুত বদলে যাচ্ছে এবং এখনকার অনেক চাকরির অস্তিত্ব শিগগিরই অদৃশ্য হয়ে যাবে। \n\nএই পরিবর্তনের পেছনে প্রধান দুটি কারণের কথা ওয়ার্ল্ড ইকোনমিক ফোরামের সাম্প্রতিক সমীক্ষায় উঠে এসেছে।\n\nকারণ দুটি হল নতুন প্রযুক্তির উত্থান বা অটোমেশন এবং সবুজ ও টেঁকসই অর্থনীতির দিকে এগিয়ে যাওয়া।\n\nবিগ ডেটা, ক্লাউড কম্পিউটিং এবং কৃত্রিম বুদ্ধিমত্তার মতো নতুন নতুন প্রযুক্তির দ্রুত অগ্রগতি শ্রমবাজারে আমূল পরিবর্তন আনবে বলে ধারণা করা হচ্ছে।\n\nভাল খবর হল, নতুন প্রযুক্তি সার্বিক অর্থনৈতিক উন্নয়নে সাহায্য করবে। এতে একদিকে যেমন অনেক কর্মসংস্থানের খাত তৈরি হবে তেমন অনেক কর্মসংস্থান ধ্বংসও হয়ে যাবে।",
  date: "2025-12-07"
},
{
  id: 6,
  title: "তারেক রহমানের দেশে ফিরতে বাধা কোথায়?",
  category: "রাজনীতি",
  image: "assets/tareq.jpg",
  content: "মায়ের অসুস্থতার মধ্যেও দেশে ফেরার বিষয়ে নানা রাজনৈতিক জটিলতা রয়েছে... মায়ের অসুস্থতার মধ্যেও দেশে ফেরার বিষয়ে 'সিদ্ধান্ত গ্রহণের সুযোগ অবারিত ও একক নিয়ন্ত্রণাধীন নয়' বলে ফেসবুক স্ট্যাটাসে যে মন্তব্য করেছেন বিএনপির ভারপ্রাপ্ত চেয়ারম্যান তারেক রহমান তা আলোচনার ঝড় তুলেছে। কেন দেশে ফেরার সিদ্ধান্ত নিতে পারছেন না এবং এই সিদ্ধান্ত নেওয়ার নিয়ন্ত্রণ কার হাতে–– এই প্রশ্ন উঠেছে।\n\nএ নিয়ে দিনভর রাজনৈতিক জল্পনা-কল্পনার মধ্যে বিকেলে এক সংবাদ সম্মেলনে দলের মহাসচিব মির্জা ফখরুল ইসলাম আলমগীরকে এ বিষয়ে প্রশ্ন করা হয়েছিলো। জবাবে মি. আলমগীর শুধু বলেছেন, \"তারেক রহমানের ফেসবুক স্ট্যাটাসেই সব ব্যাখ্যা রয়েছে। এ বিষয়ে আর কিছু বলার নেই\"।\n\nওদিকে তারেক রহমানের ফেসবুক স্ট্যাটাসের কয়েক ঘণ্টা পর বিকেলে প্রধান উপদেষ্টার প্রেস সচিব শফিকুল আলম ফেসবুকে পোস্ট দিয়ে বলেছেন, \"এ ব্যাপারে (তারেক রহমানের ফেরা) সরকারের তরফ থেকে কোনো বিধি-নিষেধ অথবা কোনো ধরনের আপত্তি নাই\"।\n\nমি. রহমান অবশ্য অক্টোবরের শুরুতে বিবিসি বাংলাকে দেওয়া সাক্ষাৎকারে \"দ্রুতই দেশে ফিরে নির্বাচনে অংশ নেওয়ার\" কথা জানিয়েছিলেন। তার দলের নেতারা বলেছিলেন যে, তিনি নভেম্বরেই দেশে ফিরবেন।\n\nকিন্তু নভেম্বর শেষ হওয়ার মাত্র এক দিন আগে মি. রহমান নিজেই জানালেন যে এ বিষয়ে সিদ্ধান্ত নেওয়ার নিয়ন্ত্রণ তার নেই।",
  date: "2025-12-05"
},

{
  id: 7,
  title: "ফিফা বিশ্বকাপ ২০২৬ ড্র শেষ, কে কোন গ্রুপে খেলবে?",
  category: "খেলা",
  image: "https://ichef.bbci.co.uk/ace/ws/800/cpsprodpb/2fc0/live/d0724680-d21d-11f0-9fb5-5f3a3703a365.png.webp",
  content: "কম ডেটা ব্যবহার করতে শুধু টেক্সট পড়ুন\nফিফা বিশ্বকাপ ২০২৬ ছবির উৎস: Getty Images\nছবির ক্যাপশন: ফিফা বিশ্বকাপ ২০২৬\n৬ ডিসেম্বর ২০২৫\n\n১২টি গ্রুপ, ৪৮টি দল, তিন দেশে হবে খেলা—ফুটবল বিশ্বকাপকে এমনিতেই বলা হয় 'গ্রেটেস্ট শো অন আর্থ'। পৃথিবীর সেরা স্পোর্টস প্রতিযোগিতা যেন আরও বড় পরিসর করে নিলো, যেখানে ফিফার সদস্য তালিকার চার ভাগের এক ভাগ দলই এবারে বিশ্বকাপ খেলবে, যাদের কেউ কেউ খেলবে প্রথমবারের মতো।\n\nএতো বড় পরিসরে আয়োজিত হতে যাওয়া এই বিশ্বকাপের ড্র সম্পন্ন হয়েছে শুক্রবার মধ্যরাতে। ব্রাজিল বা আর্জেন্টিনার মতো দলগুলোর খেলা কাদের বিপক্ষে হবে তা এখন প্রকাশ্যে এসেছে।\n\nবিশেষ কায়দায় পটের মাধ্যমে দলগুলোকে র‍্যাংকিং-এর শক্তিমত্তা, আগের আসর ও আয়োজক দেশের হিসাব করে আলাদা করে এই লটারি করা হয়েছে, যাতে ব্রাজিল-আর্জেন্টিনার যদি দেখা হয়েও যায়, তা সেমিফাইনালের আগে হবে না।\n\nব্রাজিল ও আর্জেন্টিনার গ্রুপ নিয়ে সমর্থকদের বড় অংশই খুশি। কেউ কেউ লিখেছেন—জার্মানি এবার চাইলেও গ্রুপ পর্বে বাদ পড়তে পারবে না, ইংল্যান্ডকে নিয়ে শঙ্কা প্রকাশ করছেন দেশটির বিশ্লেষকরাই।\n\nতবে অনেকেই এবারের বিশ্বকাপে স্পেনকে 'হট ফেভারিট' ধরছেন।",
  date: "2025-12-06"
}


    ];

    // --- Global State ---
    let isAdmin = false;
    let newsData = JSON.parse(localStorage.getItem('newsData')) || [...initialData];

    const container = document.getElementById('news-container');

    // --- Initialize App ---
    function init() {
        renderNews();
        updateDate();
    }

    function updateDate() {
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        const today = new Date().toLocaleDateString('bn-BD', options);
        document.getElementById('current-date').innerText = today;
    }

    // --- Admin Login/Logout ---
    function handleAdminClick() {
        if (isAdmin) {
            isAdmin = false;
            document.getElementById('admin-panel').classList.add('hidden');
            const btn = document.getElementById('admin-toggle-btn');
            btn.innerHTML = `<i data-lucide="lock"></i> অ্যাডমিন লগইন`;
            btn.classList.remove('logged-in');
            showToast("লগআউট সফল হয়েছে");
            renderNews();
        } else {
            document.getElementById('login-modal').classList.add('active');
            document.getElementById('login-user').focus();
        }
    }

    function closeLoginModal() {
        const modal = document.getElementById('login-modal');
        modal.classList.remove('active');
        document.getElementById('login-error').style.display = 'none';
        document.getElementById('login-user').value = '';
        document.getElementById('login-pass').value = '';
    }

    function performLogin(e) {
        e.preventDefault();
        const user = document.getElementById('login-user').value;
        const pass = document.getElementById('login-pass').value;
        if (user === 'admin' && pass === '12345') {
            isAdmin = true;
            document.getElementById('admin-panel').classList.remove('hidden');
            const btn = document.getElementById('admin-toggle-btn');
            btn.innerHTML = `<i data-lucide="unlock"></i> লগআউট`;
            btn.classList.add('logged-in');
            showToast("স্বাগতম অ্যাডমিন!");
            closeLoginModal();
            renderNews();
        } else {
            document.getElementById('login-error').style.display = 'block';
        }
    }

    // --- Detail Modal ---
    function openDetailModal(id) {
        const news = newsData.find(n => n.id === id);
        if (!news) return;

        const modal = document.getElementById('detail-modal');
        const contentDiv = document.getElementById('detail-content');

        const formattedContent = news.content.split('\n').map(para => para.trim() ? `<p>${para}</p>` : '').join('');
        const imgUrl = (news.image || 'https://via.placeholder.com/800x500?text=No+Image').trim();

        contentDiv.innerHTML = `
            <div class="detail-hero">
                <img src="${imgUrl}" alt="${news.title}">
                <div class="detail-hero-overlay">
                    <span style="background:#dc2626; color:white; padding:2px 8px;">${news.category}</span>
                    <h2 class="detail-title">${news.title}</h2>
                </div>
            </div>
            <div class="detail-body">
                <div class="detail-meta">
                    <i data-lucide="calendar"></i> ${news.date} | <i data-lucide="user"></i> ডেস্ক রিপোর্টার
                </div>
                <div class="detail-text">${formattedContent}</div>
            </div>
        `;
        modal.classList.add('active');
        lucide.createIcons();
        document.body.style.overflow = 'hidden';
    }

    function closeDetailModal() {
        document.getElementById('detail-modal').classList.remove('active');
        document.body.style.overflow = 'auto';
    }

    document.querySelectorAll('.modal-overlay').forEach(overlay => {
        overlay.addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });
    });

    // --- Render News ---
    function renderNews(filteredData) {
        container.innerHTML = '';
        const dataToRender = filteredData || newsData;
        if (dataToRender.length === 0) {
            container.innerHTML = '<p style="text-align:center; padding:30px;">কোনো খবর পাওয়া যায়নি।</p>';
            return;
        }
        dataToRender.forEach((news) => {
            const card = document.createElement('div');
            card.className = "news-card";

            const imgUrl = (news.image || 'https://via.placeholder.com/600x400?text=No+Image').trim();
            const excerptText = news.content.replace(/\n/g, ' ').slice(0, 200) + (news.content.length > 200 ? '...' : '');

            card.innerHTML = `
                <div class="card-image-wrapper" onclick="openDetailModal(${news.id})">
                    <img src="${imgUrl}" alt="${news.title}">
                    <span class="category-badge">${news.category}</span>
                </div>
                <div class="card-content">
                    <div class="card-meta">
                        <span><i data-lucide="clock"></i> ${news.date}</span>
                        ${isAdmin ? `<div class="admin-actions">
                            <button onclick="editNews(${news.id})" class="btn-edit">এডিট</button>
                            <button onclick="deleteNews(${news.id})" class="btn-delete">ডিলিট</button>
                        </div>` : ''}
                    </div>
                    <h3 class="card-title" onclick="openDetailModal(${news.id})">${news.title}</h3>
                    <div class="card-excerpt">${excerptText}</div>
                    <button onclick="openDetailModal(${news.id})" class="btn-read-more">বিস্তারিত পড়ুন <i data-lucide="arrow-right"></i></button>
                </div>
            `;
            container.appendChild(card);
        });
        lucide.createIcons();
    }

    // --- Admin CRUD ---
    function handleFormSubmit(e) {
        e.preventDefault();
        const title = document.getElementById('news-title').value;
        const category = document.getElementById('news-category').value;
        const image = document.getElementById('news-image').value;
        const content = document.getElementById('news-content').value;
        const editId = document.getElementById('edit-id').value;
        const dateStr = new Date().toISOString().slice(0,10);

        if (editId) {
            const index = newsData.findIndex(n => n.id == editId);
            if (index !== -1) newsData[index] = { ...newsData[index], title, category, image, content };
            showToast("খবর আপডেট করা হয়েছে!");
        } else {
            newsData.unshift({ id: Date.now(), title, category, image, content, date: dateStr });
            showToast("নতুন খবর যোগ করা হয়েছে!");
        }

        localStorage.setItem('newsData', JSON.stringify(newsData));
        renderNews();
        clearForm();
    }

    function editNews(id) {
        const news = newsData.find(n => n.id === id);
        if (!news) return;
        document.getElementById('news-title').value = news.title;
        document.getElementById('news-category').value = news.category;
        document.getElementById('news-image').value = news.image;
        document.getElementById('news-content').value = news.content;
        document.getElementById('edit-id').value = news.id;
        document.getElementById('admin-panel').scrollIntoView({ behavior: 'smooth' });
    }

    function deleteNews(id) {
        if (confirm('আপনি কি নিশ্চিত যে আপনি এই খবরটি ডিলিট করতে চান?')) {
            newsData = newsData.filter(n => n.id !== id);
            localStorage.setItem('newsData', JSON.stringify(newsData));
            showToast("খবর ডিলিট করা হয়েছে");
            renderNews();
        }
    }

    function clearForm() {
        document.getElementById('news-form').reset();
        document.getElementById('edit-id').value = "";
    }

    // --- Search & Filter ---
    function filterNews(category) {
        if (category === 'all') renderNews();
        else renderNews(newsData.filter(n => n.category === category));
    }

    function searchNews(query) {
        query = query.toLowerCase();
        renderNews(newsData.filter(n => n.title.toLowerCase().includes(query) || n.content.toLowerCase().includes(query)));
    }

    // --- Toast ---
    function showToast(message) {
        const toast = document.getElementById('toast');
        toast.innerText = message;
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 3000);
    }

    init();



document.getElementById('contactForm').addEventListener('submit', function(e){
    let name = this.name.value.trim();
    let email = this.email.value.trim();
    let message = this.message.value.trim();
    let agree = this.agree.checked;
    let errors = [];

    if(!name) errors.push("Name is required");
    if(!email || !/\S+@\S+\.\S+/.test(email)) errors.push("Valid email is required");
    if(message.length < 10) errors.push("Message must be at least 10 characters");
    if(!agree) errors.push("You must agree to terms");

    if(errors.length > 0){
        e.preventDefault();
        alert(errors.join("\n"));
    }
});
